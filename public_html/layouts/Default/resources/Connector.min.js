var AppConnector={requestPjax:function(params){return AppConnector._request(params,true)},request:function(params){return AppConnector._request(params,false)},_request:function(params,pjaxMode){var aDeferred=jQuery.Deferred();if(typeof pjaxMode=="undefined"){pjaxMode=false}if(typeof params=="undefined"){params={}}if(typeof params.data=="undefined"){if(typeof params=="string"){var callerParams=params;if(callerParams.indexOf("?")!==-1){var callerParamsParts=callerParams.split("?");callerParams=callerParamsParts[1]}}else{callerParams=jQuery.extend({},params)}params={};params.data=callerParams}if(typeof params.type=="undefined"){params.type="POST"}if(typeof params.dataType=="undefined"){var data=params.data;params.dataType="json";if(data.hasOwnProperty("view")){params.dataType="html"}else{if(typeof data=="string"&&data.indexOf("&view=")!==-1){params.dataType="html"}}if(typeof params.url!="undefined"&&params.url.indexOf("&view=")!==-1){params.dataType="html"}}if(typeof params.url!="undefined"&&params.url.indexOf("?")!==-1){var urlSplit=params.url.split("?");var queryString=urlSplit[1];params.url=urlSplit[0];var queryParameters=queryString.split("&");for(var index=0;index<queryParameters.length;index++){var queryParam=queryParameters[index];var queryParamComponents=queryParam.split("=");params.data[queryParamComponents[0]]=queryParamComponents[1]}}if(typeof params.url=="undefined"||params.url.length<=0){params.url="index.php"}var success=function(data,status,jqXHR){aDeferred.resolve(data)};var error=function(jqXHR,textStatus,errorThrown){aDeferred.reject(textStatus,errorThrown)};if(pjaxMode){if(typeof params.container=="undefined"){params.container="#pjaxContainer"}params.type="GET";var pjaxContainer=jQuery("#pjaxContainer");if(params.container=="#pjaxContainer"){pjaxContainer.html("")}jQuery(document).on("pjax:success",function(event,data,status,jqXHR){pjaxContainer.html("");success(data,status,jqXHR)});jQuery(document).on("pjax:error",function(event,jqXHR,textStatus,errorThrown){pjaxContainer.html("");error(jqXHR,textStatus,errorThrown)});jQuery.pjax(params)}else{params.success=success;params.error=error;jQuery.ajax(params)}return aDeferred.promise()}};